#Sensors
set(SENSOR_PATH ${CMAKE_CURRENT_SOURCE_DIR})

include_directories(${SENSOR_PATH})

if (";${TARGET_MODULES};" MATCHES ";HOTSWAP_SENSOR;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/hotswap.c )
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_HOTSWAP")
endif()

if (";${TARGET_MODULES};" MATCHES ";LM75;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/lm75.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_LM75")
endif()

if (";${TARGET_MODULES};" MATCHES ";MAX6642;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/max6642.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_MAX6642")
endif()

if (";${TARGET_MODULES};" MATCHES ";INA220_VOLTAGE;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina220.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_INA220_VOLTAGE")
endif()

if (";${TARGET_MODULES};" MATCHES ";INA220_CURRENT;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina220.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_INA220_CURRENT")
endif()

if (";${TARGET_MODULES};" MATCHES ";INA3221_VOLTAGE;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina3221.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_INA3221_VOLTAGE")
endif()

if (";${TARGET_MODULES};" MATCHES ";INA3221_CURRENT;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina3221.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_INA3221_CURRENT")
endif()

if (";${TARGET_MODULES};" MATCHES ";MAX116XX;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/max11609.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_MAX11609")
endif()

set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH} PARENT_SCOPE)
set(PROJ_HDRS ${PROJ_HDRS} ${SENSOR_PATH} PARENT_SCOPE)
set(MODULES_FLAGS "${MODULES_FLAGS}" PARENT_SCOPE)
